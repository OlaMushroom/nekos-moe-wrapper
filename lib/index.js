async function o(e){let t="";if(e.headers.get("content-type")?.includes("application/json")){let r=await e.json();t=`${r.message}${"id"in r?`
ID: ${r.id}`:""}`}throw Error(`HTTP Error: ${e.status} ${e.statusText}
`,{cause:t})}async function a(e,t={}){let r=new URL(e,"https://nekos.moe/api/v1/");console.log(`URL: ${r.toString()}
Timestamp: ${Date.now()}`);try{let s=await fetch(r,t);return s.ok||await o(s),await s.json()}catch(s){throw Error("Error: ",{cause:s})}}function n(e,t,r){try{let s=new File([e],`${t}.${r}`,{type:`image/${r}`});return console.log(`File created successfully:
%o`,{name:s.name,type:s.type,size:s.size,lastModified:s.lastModified}),s}catch(s){throw Error("Error: ",{cause:s})}}async function i(e){return(await a(`images/${e}`)).image}async function p(e={}){return(await a("images/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).images}async function c(e=1,t){let r=new URLSearchParams({count:e.toString()});return t!==void 0&&r.append("nsfw",t.toString()),(await a(`random/image?count=${e}${t!==void 0?`&nsfw=${t}`:""}`)).images}async function u(e){let t=new FormData;return t.append("image",e.image),t.append("nsfw",e.nsfw.toString()),t.append("tags",e.tags.toString()),e.artist!==void 0&&t.append("artist",e.artist),await a("images",{method:"POST",headers:{Authorization:e.token,"Content-Type":"multipart/form-data"},body:t})}async function m(e,t){let r=new Headers;return t!==void 0&&r.append("Authorization",t),(await a(`user/${e}`,{headers:r})).user}async function d(e={}){return(await a("users/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).users}async function g(e,t){return(await a("auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})})).token}async function h(e){await a("auth",{method:"POST",headers:{Authorization:e}})}var f={website:{url:"https://nekos.moe",repo:"https://github.com/Nekos-moe/website"},api:{url:"https://nekos.moe/api/v1",repo:"https://github.com/Nekos-moe/api",docs:{url:"https://docs.nekos.moe",repo:"https://github.com/Nekos-moe/docs"}},wrapper:{url:"https://jsr.io/@om/nekos-moe",repo:"https://github.com/OlaMushroom/nekos-moe-wrapper",docs:{url:"https://nekos-moe-wrapper.vercel.app",repo:"https://github.com/OlaMushroom/nekos-moe-wrapper/tree/docs"}}};export{f as _links,g as auth,n as create,i as getPost,m as getUser,c as random,h as regen,p as searchPost,d as searchUser,u as upload};
